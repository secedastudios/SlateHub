<!doctype html>
<html lang="en" data-theme="dark">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="color-scheme" content="light dark" />
        <meta
            name="description"
            content="{% block description %}SlateHub - A collaborative hub for the TV, film, and content industries{% endblock %}"
        />
        <title>
            {% block title %}
                {{ app_name }}
            {% endblock %}
        </title>
        {% include "partials/styles.html" %}
        <!-- Theme Initialization Script -->
        <script>
            // Check for saved theme preference or default to dark
            const savedTheme = localStorage.getItem("theme") || "dark";
            document.documentElement.setAttribute("data-theme", savedTheme);
        </script>
        {% block head %}{% endblock %}
    </head>
    <body
        data-page="{% block page_name %}default{% endblock %}"
        data-user="{% if user.is_some() %}authenticated{% else %}anonymous{% endif %}"
    >
        {% include "partials/header.html" %}
        <main id="main-content">
            {% block content %}{% endblock %}
        </main>
        {% include "partials/footer.html" %}
        {% include "partials/scripts.html" %}
        {% block scripts %}{% endblock %}
    </body>
</html>
