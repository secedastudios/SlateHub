{% extends "_layout.html" %} {% block title %}Login - {{ app_name }}{% endblock
%} {% block page_name %}login{% endblock %} {% block content %}
<section data-component="auth-form" data-type="login">
    <header data-role="form-header">
        <hgroup>
            <h1 id="heading-login">Welcome Back</h1>
            <p>Log in to your SlateHub account</p>
        </hgroup>
    </header>

    {% match error %} {% when Some with (err) %}
    <div
        id="error-login"
        role="alert"
        aria-live="polite"
        data-role="error-message"
    >
        {{ err }}
    </div>
    {% when None %} {% endmatch %}

    <form id="form-login" data-component="form" method="post" action="/login">
        {% match redirect_to %} {% when Some with (redirect) %}
        <input type="hidden" name="redirect_to" value="{{ redirect }}" />
        {% when None %} {% endmatch %}

        <fieldset data-role="form-section">
            <div data-field="email">
                <label for="input-email">Email or Username</label>
                <input
                    type="text"
                    id="input-email"
                    name="email"
                    placeholder="Enter your email or username"
                    required
                    autofocus
                    aria-required="true"
                    {%
                    match
                    error
                    %}
                    {%
                    when
                    Some
                    with
                    (_)
                    %}
                    aria-invalid="true"
                    aria-describedby="error-login"
                    {%
                    when
                    None
                    %}
                    aria-invalid="false"
                    {%
                    endmatch
                    %}
                />
            </div>

            <div data-field="password">
                <label for="input-password">Password</label>
                <input
                    type="password"
                    id="input-password"
                    name="password"
                    placeholder="Enter your password"
                    required
                    aria-required="true"
                    {%
                    match
                    error
                    %}
                    {%
                    when
                    Some
                    with
                    (_)
                    %}
                    aria-invalid="true"
                    aria-describedby="error-login"
                    {%
                    when
                    None
                    %}
                    aria-invalid="false"
                    {%
                    endmatch
                    %}
                />
            </div>

            <div data-field="remember">
                <label for="input-remember">
                    <input
                        type="checkbox"
                        id="input-remember"
                        name="remember"
                        role="switch"
                    />
                    Remember me
                </label>
            </div>
        </fieldset>

        <div data-role="form-actions">
            <button type="submit" data-type="primary">Log In</button>
        </div>

        <nav
            id="nav-login-alternatives"
            aria-label="Login alternatives"
            data-role="form-footer"
        >
            <ul>
                <li>
                    <a href="/forgot-password">Forgot your password?</a>
                </li>
                <li>
                    <span
                        >Don't have an account?
                        <a href="/signup">Sign up</a></span
                    >
                </li>
            </ul>
        </nav>
    </form>
</section>
{% endblock %}
