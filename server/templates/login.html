{% extends "_layout.html" %} {% block title %}Login - {{ app_name }}{% endblock
%} {% block page_name %}login{% endblock %} {% block content %}
<section id="section-login" data-component="auth-form" data-type="login">
    <header id="login-header" data-role="form-header">
        <hgroup>
            <h1 id="heading-login">Welcome Back</h1>
            <p data-role="subtitle">Log in to your SlateHub account</p>
        </hgroup>
    </header>

    {% match error %} {% when Some with (err) %}
    <div
        id="alert-login-error"
        role="alert"
        aria-live="polite"
        data-component="alert"
        data-type="error"
    >
        {{ err }}
    </div>
    {% when None %} {% endmatch %}

    <form
        id="form-login"
        method="post"
        action="/login"
        data-component="form"
        data-state="ready"
    >
        {% match redirect_to %} {% when Some with (redirect) %}
        <input type="hidden" name="redirect_to" value="{{ redirect }}" />
        {% when None %} {% endmatch %}

        <fieldset id="fieldset-credentials" data-role="form-section">
            <legend hidden>Login Credentials</legend>

            <div id="field-email" data-field="email">
                <label for="input-email">Email or Username</label>
                <input
                    type="text"
                    id="input-email"
                    name="email"
                    placeholder="Enter your email or username"
                    required
                    autofocus
                    aria-required="true"
                    {%
                    match
                    error
                    %}
                    {%
                    when
                    Some
                    with
                    (_)
                    %}
                    aria-invalid="true"
                    aria-describedby="alert-login-error"
                    {%
                    when
                    None
                    %}
                    aria-invalid="false"
                    {%
                    endmatch
                    %}
                />
            </div>

            <div id="field-password" data-field="password">
                <label for="input-password">Password</label>
                <input
                    type="password"
                    id="input-password"
                    name="password"
                    placeholder="Enter your password"
                    required
                    aria-required="true"
                    {%
                    match
                    error
                    %}
                    {%
                    when
                    Some
                    with
                    (_)
                    %}
                    aria-invalid="true"
                    aria-describedby="alert-login-error"
                    {%
                    when
                    None
                    %}
                    aria-invalid="false"
                    {%
                    endmatch
                    %}
                />
            </div>

            <div id="field-remember" data-field="remember">
                <label for="input-remember">
                    <input
                        type="checkbox"
                        id="input-remember"
                        name="remember"
                        role="switch"
                    />
                    Remember me
                </label>
            </div>
        </fieldset>

        <div id="login-actions" data-role="form-actions">
            <button type="submit" id="button-submit-login" data-type="primary">
                Log In
            </button>
        </div>

        <nav
            id="nav-login-alternatives"
            aria-label="Login alternatives"
            data-role="form-footer"
        >
            <ul data-role="link-list">
                <li>
                    <a href="/forgot-password" id="link-forgot-password">
                        Forgot your password?
                    </a>
                </li>
                <li>
                    <span data-role="text">Don't have an account?</span>
                    <a href="/signup" id="link-signup"> Sign up </a>
                </li>
            </ul>
        </nav>
    </form>
</section>
{% endblock %}
