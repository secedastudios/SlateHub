{% extends "_layout.html" %}

{% block title %}Edit Profile - SlateHub{% endblock %}

{% block content %}
<main>
    <article data-profile-edit="true">
        <header>
            <h1>Edit Your Profile</h1>
            <p>Update your professional information to connect with others in the industry.</p>
        </header>

        <form action="/profile/edit" method="post" enctype="multipart/form-data">
            <!-- Basic Information -->
            <section aria-labelledby="basic-heading">
                <h2 id="basic-heading">Basic Information</h2>

                <fieldset>
                    <label for="name">
                        Display Name
                        <input
                            type="text"
                            id="name"
                            name="name"
                            value="{{ profile.name }}"
                            placeholder="Your professional name"
                        />
                    </label>

                    <label for="headline">
                        Professional Headline
                        <input
                            type="text"
                            id="headline"
                            name="headline"
                            value="{{ profile.headline }}"
                            placeholder="e.g., Director of Photography | Cinematographer"
                        />
                    </label>

                    <label for="bio">
                        Bio
                        <textarea
                            id="bio"
                            name="bio"
                            rows="6"
                            placeholder="Tell us about yourself and your work..."
                        >{{ profile.bio }}</textarea>
                    </label>

                    <label for="location">
                        Location
                        <input
                            type="text"
                            id="location"
                            name="location"
                            value="{{ profile.location }}"
                            placeholder="e.g., Los Angeles, CA"
                        />
                    </label>

                    <label for="website">
                        Website
                        <input
                            type="url"
                            id="website"
                            name="website"
                            value="{{ profile.website }}"
                            placeholder="https://yourwebsite.com"
                        />
                    </label>

                    <label for="phone">
                        Phone Number
                        <input
                            type="tel"
                            id="phone"
                            name="phone"
                            value="{{ profile.phone }}"
                            placeholder="Optional - visible only to you"
                        />
                    </label>

                    <label for="is_public">
                        <input
                            type="checkbox"
                            id="is_public"
                            name="is_public"
                            value="true"
                            {% if profile.is_public %}checked{% endif %}
                        />
                        Make my profile public
                    </label>
                </fieldset>
            </section>

            <!-- Professional Details -->
            <section aria-labelledby="professional-heading">
                <h2 id="professional-heading">Professional Details</h2>

                <fieldset>
                    <label for="skills">
                        Skills
                        <input
                            type="text"
                            id="skills"
                            name="skills"
                            value="{{ profile.skills | join(sep=', ') }}"
                            placeholder="Comma-separated skills (e.g., Directing, Editing, Screenwriting)"
                        />
                        <small>Separate skills with commas</small>
                    </label>

                    <label for="languages">
                        Languages
                        <input
                            type="text"
                            id="languages"
                            name="languages"
                            value="{{ profile.languages | join(sep=', ') }}"
                            placeholder="e.g., English, Spanish, French"
                        />
                        <small>Separate languages with commas</small>
                    </label>

                    <label for="unions">
                        Union Affiliations
                        <input
                            type="text"
                            id="unions"
                            name="unions"
                            value="{{ profile.unions | join(sep=', ') }}"
                            placeholder="e.g., SAG-AFTRA, DGA, WGA"
                        />
                        <small>Separate unions with commas</small>
                    </label>

                    <label for="availability">
                        Availability
                        <select id="availability" name="availability">
                            <option value="">Select availability</option>
                            <option value="available" {% if profile.availability == "available" %}selected{% endif %}>Available</option>
                            <option value="busy" {% if profile.availability == "busy" %}selected{% endif %}>Busy</option>
                            <option value="not_available" {% if profile.availability == "not_available" %}selected{% endif %}>Not Available</option>
                        </select>
                    </label>
                </fieldset>
            </section>

            <!-- Physical Attributes (Optional) -->
            <section aria-labelledby="physical-heading">
                <h2 id="physical-heading">Physical Attributes</h2>
                <p>Optional section for talent and actors</p>

                <fieldset>
                    <div role="group">
                        <label for="height_mm">
                            Height (cm)
                            <input
                                type="number"
                                id="height_mm"
                                name="height_mm"
                                value="{{ profile.height_mm | default(value='') }}"
                                min="0"
                                step="10"
                            />
                        </label>

                        <label for="weight_kg">
                            Weight (kg)
                            <input
                                type="number"
                                id="weight_kg"
                                name="weight_kg"
                                value="{{ profile.weight_kg | default(value='') }}"
                                min="0"
                            />
                        </label>
                    </div>

                    <div role="group">
                        <label for="hair_color">
                            Hair Color
                            <input
                                type="text"
                                id="hair_color"
                                name="hair_color"
                                value="{{ profile.hair_color }}"
                                placeholder="e.g., Brown, Blonde, Black"
                            />
                        </label>

                        <label for="eye_color">
                            Eye Color
                            <input
                                type="text"
                                id="eye_color"
                                name="eye_color"
                                value="{{ profile.eye_color }}"
                                placeholder="e.g., Blue, Green, Brown"
                            />
                        </label>
                    </div>

                    <label for="gender">
                        Gender
                        <input
                            type="text"
                            id="gender"
                            name="gender"
                            value="{{ profile.gender }}"
                            placeholder="Optional"
                        />
                    </label>

                    <label for="ethnicity">
                        Ethnicity
                        <input
                            type="text"
                            id="ethnicity"
                            name="ethnicity"
                            value="{{ profile.ethnicity | join(sep=', ') }}"
                            placeholder="Optional (comma-separated if multiple)"
                        />
                    </label>

                    {% if profile.age_range %}
                    <fieldset>
                        <legend>Playing Age Range</legend>
                        <div role="group">
                            <label for="age_min">
                                Minimum Age
                                <input
                                    type="number"
                                    id="age_min"
                                    name="age_min"
                                    value="{{ profile.age_range.min }}"
                                    min="0"
                                    max="100"
                                />
                            </label>

                            <label for="age_max">
                                Maximum Age
                                <input
                                    type="number"
                                    id="age_max"
                                    name="age_max"
                                    value="{{ profile.age_range.max }}"
                                    min="0"
                                    max="100"
                                />
                            </label>
                        </div>
                    </fieldset>
                    {% else %}
                    <fieldset>
                        <legend>Playing Age Range</legend>
                        <div role="group">
                            <label for="age_min">
                                Minimum Age
                                <input
                                    type="number"
                                    id="age_min"
                                    name="age_min"
                                    min="0"
                                    max="100"
                                />
                            </label>

                            <label for="age_max">
                                Maximum Age
                                <input
                                    type="number"
                                    id="age_max"
                                    name="age_max"
                                    min="0"
                                    max="100"
                                />
                            </label>
                        </div>
                    </fieldset>
                    {% endif %}
                </fieldset>
            </section>

            <!-- Form Actions -->
            <footer>
                <div role="group">
                    <button type="submit" data-action="save">Save Changes</button>
                    <a href="/profile" role="button" data-action="cancel">Cancel</a>
                </div>
            </footer>
        </form>
    </article>
</main>
{% endblock %}
